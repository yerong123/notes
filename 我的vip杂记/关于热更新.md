# 热更新

## 啥是热更新？

热更新就是不停服的更新你的应用。在应用上线更新期间，不影响用户的访问。

## 啥原理呢？
比如我线上跑着App1.0，然后我要更新部署上线一个2.0

此时情况是这样的：

1. App1.0监听一个端口，接收用户的请求
* 当要更新这个App的时候，要`想办法`通知App1.0，告诉它我要更新了
* App1.0接到通知后的处理是，首先停止监听这个端口（把它让给2.0），然后继续处理手里的活（已经接到的请求），处理完成后，自杀（多凶残）。
* App2.0在通知1.0（确保1.0停止监听）后，启动。

## 咋做呢？

我只预研过golang，有个开源库，叫endless。

以上的唯一问题是如何获取`要更新了`这个通知；golang的endless，是通过接受linux系统的signal信号来获取通知的。

用户可以编写脚本，配合endless。完成golang程序的热更新。

